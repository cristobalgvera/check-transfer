<div class="container">
  <form
    [formGroup]="addRecipientFormGroup"
    class="form"
    (keyup.enter)="addRecipientFormGroup.valid && handleSubmit()"
  >
    <mat-form-field hideRequiredMarker>
      <mat-label>RUT</mat-label>
      <input
        matInput
        [formControl]="addRecipientFormGroup.controls.rut"
        required
      />
      <mat-error *ngIf="hasError('rut', 'required')">
        RUT is required
      </mat-error>
      <mat-error *ngIf="hasError('rut', 'pattern')">Invalid RUT</mat-error>
    </mat-form-field>
    <mat-form-field hideRequiredMarker>
      <mat-label>Name</mat-label>
      <input
        matInput
        [formControl]="addRecipientFormGroup.controls.name"
        required
      />
      <mat-error *ngIf="hasError('name', 'required')">
        Name is required
      </mat-error>
    </mat-form-field>
    <mat-form-field hideRequiredMarker>
      <mat-label>Email</mat-label>
      <input
        matInput
        [formControl]="addRecipientFormGroup.controls.email"
        type="email"
        required
      />
      <mat-error *ngIf="hasError('email', 'required')">
        Email is required
      </mat-error>
      <mat-error *ngIf="hasError('email', 'email')">
        Email is invalid
      </mat-error>
    </mat-form-field>
    <mat-form-field hideRequiredMarker>
      <mat-label>Phone</mat-label>
      <input
        matInput
        [formControl]="addRecipientFormGroup.controls.phone"
        type="tel"
        required
      />
      <mat-error *ngIf="hasError('phone', 'required')">
        Phone is required
      </mat-error>
      <mat-error *ngIf="hasError('phone', 'pattern')">
        Invalid phone
      </mat-error>
    </mat-form-field>
    <mat-form-field hideRequiredMarker>
      <mat-label>Bank</mat-label>
      <mat-select
        [formControl]="addRecipientFormGroup.controls.bankId"
        required
      >
        <mat-option disabled>Select one</mat-option>
        <mat-option *ngFor="let bank of banks" [value]="bank.id">
          {{ bank.name }}
        </mat-option>
      </mat-select>
      <mat-error *ngIf="hasError('bankId', 'required')">
        Bank is required
      </mat-error>
    </mat-form-field>
    <mat-form-field hideRequiredMarker>
      <mat-label>Account Type</mat-label>
      <mat-select
        [formControl]="addRecipientFormGroup.controls.accountType"
        required
      >
        <mat-option disabled>Select one</mat-option>
        <mat-option
          *ngFor="let accountType of accountTypes"
          [value]="accountType.id"
        >
          {{ accountType.name }}
        </mat-option>
      </mat-select>
      <mat-error *ngIf="hasError('accountType', 'required')">
        Account type is required
      </mat-error>
    </mat-form-field>
    <mat-form-field hideRequiredMarker>
      <mat-label>Account Number</mat-label>
      <input
        matInput
        [formControl]="addRecipientFormGroup.controls.accountNumber"
        required
      />
      <mat-error *ngIf="hasError('accountNumber', 'required')">
        Account number is required
      </mat-error>
      <mat-error *ngIf="hasError('accountNumber', 'pattern')">
        Invalid account number
      </mat-error>
    </mat-form-field>
    <div class="form-actions">
      <button
        mat-raised-button
        type="button"
        class="submit-button"
        color="primary"
        (click)="handleSubmit()"
        [disabled]="addRecipientFormGroup.invalid"
      >
        Add
      </button>
      <button type="button" mat-raised-button (click)="handleSubmit()">
        Cancel
      </button>
    </div>
  </form>
</div>
